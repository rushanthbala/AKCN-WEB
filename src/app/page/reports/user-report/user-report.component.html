<div class="card">
  <div class="card-body">
    <app-user-report-update
      (OnClick)="searching($event)"
    ></app-user-report-update>
  </div>
</div>

<br />
<br />

<p class="head-2" *ngIf="userData.length == 0 && isFetchDataFail">
  No Data found
</p>

<div class="main-div">
  <div *ngIf="userData.length != 0">
    <div class="container-6" *ngIf="showTable && !isFetchDataFail">
      <p class="head-2" *ngIf="showTable && !isFetchDataFail">
        {{ tableResult }} Results found
      </p>
      <div class="card">
        <div class="card-body">
          <div id="htmlData" class="table-responsive">
            <table
              mat-table
              [dataSource]="dataSource"
              matSort
              (matSortChange)="announceSortChange($event)"
              class=""
            >
              <td mat-cell *matCellDef="let row"></td>
              <!-- invoiceId Column -->
              <ng-container matColumnDef="invoiceID">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  sortActionDescription="Sort by invoiceID"
                >
                  Invoice ID
                </th>
                <td
                  mat-cell
                  *matCellDef="let element"
                  (click)="viewDetails(element)"
                >
                  {{ element.invoiceID }}
                </td>
              </ng-container>
              <!-- collectionID Column -->
              <ng-container matColumnDef="ConnectionID">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  sortActionDescription="Sort by ConnectionID"
                >
                  Connection ID
                </th>
                <td
                  mat-cell
                  *matCellDef="let element"
                  (click)="viewDetails(element)"
                >
                  {{ element.connectionID }}
                </td>
              </ng-container>

              <!-- Description Column -->
              <ng-container matColumnDef="description">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  sortActionDescription="Sort by description"
                >
                  Description
                </th>
                <td mat-cell *matCellDef="let element">
                  {{ element.description }}
                </td>
              </ng-container>

              <!-- amount Column -->
              <ng-container matColumnDef="amount">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  sortActionDescription="Sort by amount"
                >
                  Amount
                </th>
                <td mat-cell *matCellDef="let element">
                  {{ element.amount }}
                </td>
              </ng-container>

              <!-- status Column -->
              <ng-container matColumnDef="collectedAt">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  sortActionDescription="Sort by collectedAt"
                >
                  Collected At
                </th>
                <td mat-cell *matCellDef="let element">
                  {{ element.paidDateTime | date : "yyyy-MM-dd hh:mm" }}
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
            </table>
          </div>

          <mat-paginator
            [pageSizeOptions]="[10, 25, 100]"
            aria-label="Select page of users"
          ></mat-paginator>
        </div>
      </div>
    </div>
  </div>
</div>
